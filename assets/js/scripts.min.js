"use strict";!function(_,i,h,v){var m=v.rox_csrf,x=v.rox_ajax,r="1"==v.is_user_logged_in,p=parseInt(v.post_id);function w(n,o){var e=this,t=n||_("body"),i=_('<div class="roxLoaderContainer"><span class="roxLoader"><span class="checkmark"></span></span></div>'),r=o||1e3;t.append(i),t.trigger("rox.loader.init"),e.animation=i,e.show=function(n,o){n=null==n||void 0===n?r:n;e.reset(0),n?setTimeout(function(){t.css("overflow","hidden"),i.css("display","block"),t.trigger("rox.loader.shown"),"function"==typeof o&&o(e)},n):(t.css("overflow","hidden"),i.css("display","block"),t.trigger("rox.loader.shown"),"function"==typeof o&&o(e))},e.hide=function(n,o){(n=null==n||void 0===n?r:n)?setTimeout(function(){t.css("overflow",""),i.css("display","none"),t.trigger("rox.loader.hidden"),"function"==typeof o&&o(e)},n):(t.css("overflow",""),i.css("display","none"),t.trigger("rox.loader.hidden"),"function"==typeof o&&o(e))},e.complete=function(n,o,e){o=null==o||void 0===o?r:o;(n=null!=n&&void 0!==n&&0!=n)&&t.find(".roxLoader").addClass("complete"),this.hide(o,function(n){t.trigger("rox.loader.completed"),"function"==typeof e&&e(n)})},e.reset=function(n,o){(n=null==n||void 0===n?r:n)?setTimeout(function(){t.find(".roxLoader").removeClass("complete"),"function"==typeof o&&o(e)},n):(t.find(".roxLoader").removeClass("complete"),"function"==typeof o&&o(e))},e.restart=function(n){t.find(".roxLoader").removeClass("complete"),e.show(0,n)},e.destroy=function(o){i.hide(0,function(n){i.remove(),t.trigger("rox.loader.destroyed"),"function"==typeof o&&o(n)})}}function y(n){var r=this;r.pop=n||_(".rox_wishlist_pop"),r.contentWrapper=r.pop.find(".rox_pop_container"),r.contentContainer=r.contentWrapper.find(".pop_contents"),r.infoContainer=_('<div class="pop-info" style="display: none;"><div class="info-contents"></div></div>'),r.infos=r.infoContainer.find(".info-contents"),r.infoInDelay=150,r.infoTimeout=1500,r.contentWrapper.prepend(r.infoContainer),r.pop.find(".back_drop").on("click",function(){r.hide()}),_(h).on("keydown",function(n){27==n.keyCode&&r.hide()}),r.content=function(n){return r.contentContainer.html(n),r},r.info=function(n,o,e){var t=null==o||void 0===o?r.infoInDelay:o,i=null==e||void 0===e?r.infoTimeout:e;r.infos.html(n),setTimeout(function(){r.infoContainer.slideDown({complete:function(){_(h).trigger("rox.popup.info.shown")}})},t),setTimeout(function(){r.infoContainer.slideUp({complete:function(){r.infos.html(""),_(h).trigger("rox.popup.info.hidden")}})},i)},r.show=function(){r.pop.show({duration:0,done:function(){r.contentWrapper.slideDown({duration:200,done:function(){_("body").addClass("has_rox_pop"),_(h).trigger("rox.popup.open")}})}})},r.hide=function(){r.contentWrapper.slideUp({duration:200,done:function(){r.pop.hide({duration:0,done:function(){_("body").removeClass("has_rox_pop"),_(h).trigger("rox.popup.close")}})}})}}function g(n,o){n.next(".character-counter").find(".counter-now").text(parseInt(o))}_(h).ready(function(){1!=v.is_wp_wishlist&&function(){var o,c,a,l=new y(_(".rox_wishlist_pop")),p=new w(l.contentWrapper),n=_(".pop-new-list a"),e=_(".add-new-list"),t=e.parent().find(".rox_save"),i=e.parent().find(".rox_cancle"),d=parseInt(v.list_name_max_len);function f(){n.show(),e.find("input").val(""),e.find("select option").removeAttr("selected"),e.hide()}function u(){p.hide(0),p.reset(0),l.info('<p class="rox-alert rox-error">'+v.rox_error+"</p>",5e3,400)}_(h).on("click",".rox-wishlist-button",function(n){n.preventDefault(),c=_(this).data("id"),a=_(this).data("type"),o!==c?(l.content("").show(),p.show(0),o=c,_.get(x,{action:"__get_user_wishlists",id:c,type:a,_nonce:m},function(n){n.success&&(p.complete(!1,100),l.content(n.data))}).fail(u)):l.show()}),_(h).on("change",".rox_wishlist_add",function(n){p.show(0);var o,e=_(this).val(),t=_(this),i=!1;t.is(":checked")?o={action:"__add_list_item",id:c,list_id:e,type:a,_nonce:m}:(o={action:"__remove_list_item",id:c,list_id:e,type:a,_nonce:m},i=!0),_.post(x,o,function(n){p.complete(!0,null,function(){l.info(n.data)}),1==n.success?i?t.prop("checked",!1):t.prop("checked",!0):i?t.prop("checked",!0):t.prop("checked",!1)}).fail(u)}),t.on("click",function(n){n.preventDefault();var o=_("#list-name").val().trim(),e=_("#list-privacy").val(),t=c||"",i=a||"",r=[];""==o&&r.push('<p class="rox-alert rox-error">'+v.errors.invalid_or_empty+"</p>"),o.length>d&&r.push('<p class="rox-alert rox-error">'+v.errors.list_name_max_len+"</p>"),-1==["public","private"].indexOf(e)&&(e="private");var s={action:"__add_new_list_with_item",list_name:o,list_privacy:e,id:t,type:i,_nonce:m};0<r.length?l.info(r.join("\n")):(p.show(0),_.post(x,s,function(n){if(n.success){var o=n.data;f(),_.get(x,{action:"__get_user_wishlists",id:c,type:a,_nonce:m},function(n){n.success&&(p.complete(!0,!1,function(){l.info(o)}),l.content(n.data))}).fail(u)}else p.complete(!1,!1,function(){l.info(n.data)})}).fail(u))}),_("#list-name").on("keyup",function(n){g(_(this),_(this).val().length)}).on("keypress",function(n){if(_(this).val().length>=d)return!1}),r||n.parent().hide(0),n.on("click",function(n){n.preventDefault(),_(this).hide(),e.show()}),i.on("click",function(n){n.preventDefault(),f()}),_(h).on("rox.popup.close",function(){f()})}(),1==v.is_wishlist&&function(){var s=new y(_(".rox_wishlist_pop")),c=new w(s.contentWrapper),o="",e="",t="private",a=parseInt(v.list_name_max_len),l=!1;s.contentWrapper.hasClass("wishlist-editor")||s.contentWrapper.addClass("wishlist-editor");var n=_(".edit-list");n.closest(".rox_pop_container").find(".rox_save"),n.closest(".rox_pop_container").find(".rox_cancle"),_("#list-name").on("keyup",function(n){g(_(this),_(this).val().length)}).on("keypress",function(n){if(_(this).val().length>=a)return!1}),_(h).on("rox.popup.close",function(){_("#list-name").val(o),_("#list-description").val(e),_("#list-privacy").val(t),_("#list-privacy").find('option[value="'+t+'"]').prop("selected",!0)}),_(h).on("click",".button-list-settings",function(n){n.preventDefault(),o=_("#list-name").val().trim(),e=_("#list-description").val().trim(),t=_("#list-privacy").val(),s.show()}).on("click",".rox_cancle",function(n){n.preventDefault(),s.hide()}).on("click",".rox_save",function(n){n.preventDefault();var o=_("#list-name").val().trim(),e=_("#list-description").val().trim(),t=_("#list-privacy").val(),i=[];""==o&&i.push('<p class="rox-alert rox-error">'+v.errors.invalid_or_empty+"</p>"),o.length>a&&i.push('<p class="rox-alert rox-error">'+v.errors.list_name_max_len+"</p>"),-1==["public","private"].indexOf(t)&&(t="private");var r={action:"__update_wishlist",list_name:o,list_description:e,list_privacy:t,post_id:p,_nonce:m};0<i.length?s.info(i.join("\n")):(c.show(0),_.post(x,r,function(n){n.success?c.complete(!0,!1,function(){l=!0,s.info(n.data)}):(l=!1,c.complete(!1,!1,function(){s.info(n.data)}))}).fail(ajaxError))}),_(h).on("rox.popup.info.hidden",function(){l&&(l=!1,i.location.reload())})}(),0<_(".button-delete-list").length&&_(".button-delete-list").on("click",function(n){if(!confirm(v.confirm_delete_list))return!1}),0<_(".item-remove").length&&_(".item-remove").on("click",function(n){if(!confirm(v.confirm_delete_item))return!1})})}(jQuery,window,document,rox_wpwl_configs);
//# sourceMappingURL=scripts.min.js.map
