{"version":3,"sources":["scripts.js"],"names":["$","window","document","config","__CSRF__","rox_csrf","__URL__","rox_ajax","__IS_USER_LOGGED_IN__","post_id","parseInt","RoxLoader","$el","timeout","self","this","container","animation","hideTimeout","append","trigger","show","callback","init","setTimeout","css","reset","checkmark","find","addClass","removeClass","complete","destroy","RoxPop","restart","pop","contentWrapper","infoContainer","infos","on","hide","event","keyCode","content","contentContainer","html","info","inTimeout","outTimeout","inDuration","infoInDelay","outDuration","infoTimeout","slideDown","slideUp","duration","done","id","count","type","text","$popLoader","_list_name","_id","_type","$popup","$newListSave","$newListForm","parent","$newListCancle","nameMaxLength","list_name_max_len","list_privacy","$newListBtn","val","removeAttr","list_name","rox_error","preventDefault","data","__PreviousObjectID__","get","action","_nonce","response","success","add_to_wishlist","__data__","list_ID","$item","__removing__","is","list_id","prop","trim","errors","push","invalid_or_empty","indexOf","length","join","post","__ItemResponse__","fail","ajaxError","reset_create_form","_list_description","_list_privacy","__UPDATED__","hasClass","$listEditForm","closest","update_character_counter","list_description","location","reload","edit_wishlist","$listCancle","jQuery","rox_wpwl_configs"],"mappings":"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","file":"scripts.min.js","sourcesContent":["/**!\n * RoxWPWL\n * Frontend Scripts\n * @since 1.0.0\n * @version 1.0.0\n * @author PluginRox\n * @copyright PluginRox\n */\n;(function ($, window, document, config) {\n\t\"use strict\";\n\t// GLOBAL variables\n\tvar  __CSRF__ = config.rox_csrf, __URL__ = config.rox_ajax,\n\t\t__IS_USER_LOGGED_IN__ = ( config.is_user_logged_in == '1' ), post_id = parseInt( config.post_id );\n\t/**\n\t * Loading Animation helper\n\t * insert html tags to render loading and complete animation\n\t * @param jquery element $el\t\tparent element to insert animation tags\n\t * @return void\n\t */\n\tfunction RoxLoader( $el, timeout ) {\n\t\tvar self = this,\n\t\t\tcontainer = $el || $('body'),\n\t\t\tanimation = $('<div class=\"roxLoaderContainer\"><span class=\"roxLoader\"><span class=\"checkmark\"></span></span></div>'),\n\t\t\thideTimeout = timeout || 1000,\n\t\t\tinit = function() {\n\t\t\t\tcontainer.append(animation);\n\t\t\t\tcontainer.trigger('rox.loader.init');\n\t\t\t};\n\t\tinit();\n\t\tself.animation = animation;\n\t\tself.show = function(timeout, callback) {\n\t\t\tvar timeout = timeout == null || typeof(timeout) == 'undefined' ? hideTimeout : timeout;\n\t\t\tself.reset( 0 );\n\t\t\tif (!timeout) {\n\t\t\t\tcontainer.css('overflow', 'hidden');\n\t\t\t\tanimation.css('display', 'block');\n\t\t\t\tcontainer.trigger('rox.loader.shown');\n\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t} else {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tcontainer.css('overflow', 'hidden');\n\t\t\t\t\tanimation.css('display', 'block');\n\t\t\t\t\tcontainer.trigger('rox.loader.shown');\n\t\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t\t}, timeout);\n\t\t\t}\n\t\t};\n\t\tself.hide = function(timeout, callback) {\n\t\t\tvar timeout = timeout == null || typeof(timeout) == 'undefined' ? hideTimeout : timeout;\n\t\t\tif (!timeout) {\n\t\t\t\tcontainer.css('overflow', '');\n\t\t\t\tanimation.css('display', 'none');\n\t\t\t\tcontainer.trigger('rox.loader.hidden');\n\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t} else {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tcontainer.css('overflow', '');\n\t\t\t\t\tanimation.css('display', 'none');\n\t\t\t\t\tcontainer.trigger('rox.loader.hidden');\n\t\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t\t}, timeout );\n\t\t\t}\n\t\t};\n\t\tself.complete = function(checkmark, timeout, callback) {\n\t\t\tvar checkmark = checkmark == null || typeof( checkmark ) == 'undefined' || checkmark == false ? false : true,\n\t\t\t\ttimeout = timeout == null || typeof(timeout) == 'undefined' ? hideTimeout : timeout;\n\t\t\tif( checkmark ) {\n\t\t\t\tcontainer.find('.roxLoader').addClass('complete');\n\t\t\t}\n\t\t\tthis.hide( timeout, function( self ) {\n\t\t\t\tcontainer.trigger('rox.loader.completed');\n\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t});\n\t\t};\n\t\tself.reset = function (timeout, callback) {\n\t\t\tvar timeout = timeout == null || typeof(timeout) == 'undefined' ? hideTimeout : timeout;\n\t\t\tif (!timeout) {\n\t\t\t\tcontainer.find('.roxLoader').removeClass('complete');\n\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t} else {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tcontainer.find('.roxLoader').removeClass('complete');\n\t\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t\t}, timeout );\n\t\t\t}\n\t\t};\n\t\tself.restart = function(callback) {\n\t\t\tcontainer.find('.roxLoader').removeClass('complete');\n\t\t\tself.show(0, callback);\n\t\t};\n\t\tself.destroy = function(callback) {\n\t\t\tanimation.hide(0, function(self){\n\t\t\t\tanimation.remove();\n\t\t\t\tcontainer.trigger('rox.loader.destroyed');\n\t\t\t\tif (typeof callback === \"function\") callback(self);\n\t\t\t});\n\t\t};\n\t}\n\t/**\n\t * Rox Popup\n\t * @param $el\n\t * @constructor\n\t */\n\tfunction RoxPop( $el ) {\n\t\tvar self = this;\n\t\tself.pop = $el || $('.rox_wishlist_pop'),\n\t\tself.contentWrapper = self.pop.find('.rox_pop_container'),\n\t\tself.contentContainer = self.contentWrapper.find( '.pop_contents' ),\n\t\tself.infoContainer = $('<div class=\"pop-info\" style=\"display: none;\"><div class=\"info-contents\"></div></div>'),\n\t\tself.infos = self.infoContainer.find( '.info-contents' ),\n\t\tself.infoInDelay = 150,\n\t\tself.infoTimeout = 1500;\n\t\t// inset info/alert container\n\t\tself.contentWrapper.prepend( self.infoContainer );\n\t\tself.pop.find( '.back_drop' ).on( 'click', function () {\n\t\t\tself.hide();\n\t\t});\n\t\t$(document).on( 'keydown', function ( event ) {\n\t\t\tif ( event.keyCode == 27 ) self.hide();\n\t\t});\n\t\t/**\n\t\t * @function\n\t\t *\n\t\t * Set PopUp Body Content\n\t\t * @return {this}\n\t\t * @param {(string|HTMLElement|object)} content html string/element object or jquery object\n\t\t */\n\t\tself.content = function( content ) {\n\t\t\tself.contentContainer.html( content );\n\t\t\treturn self;\n\t\t};\n\t\t/**\n\t\t * @function\n\t\t *\n\t\t * Set alert/info message content\n\t\t * @param {(string|HTMLElement|object)}     content html string/element object or jquery object\n\t\t * @param {int}                             display delay time.\n\t\t * @param {int}                             visibility duration.\n\t\t * @return {void}\n\t\t */\n\t\tself.info = function ( content, inTimeout, outTimeout ) {\n\t\t\tvar inDuration = inTimeout == null || typeof(inTimeout) == 'undefined' ? self.infoInDelay : inTimeout,\n\t\t\t\toutDuration = outTimeout == null || typeof(outTimeout) == 'undefined' ? self.infoTimeout : outTimeout;\n\t\t\t// set data\n\t\t\tself.infos.html( content );\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.infoContainer.slideDown({\n\t\t\t\t\tcomplete: function () {\n\t\t\t\t\t\t$(document).trigger( 'rox.popup.info.shown' );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, inDuration );\n\t\t\tsetTimeout( function() {\n\t\t\t\tself.infoContainer.slideUp( {\n\t\t\t\t\tcomplete: function () {\n\t\t\t\t\t\tself.infos.html('');\n\t\t\t\t\t\t$(document).trigger( 'rox.popup.info.hidden' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}, outDuration );\n\t\t};\n\t\t/**\n\t\t * @function\n\t\t * Show the Popup\n\t\t * return {void}\n\t\t */\n\t\tself.show = function(){\n\t\t\tself.pop.show({\n\t\t\t\tduration: 0,\n\t\t\t\tdone: function(){\n\t\t\t\t\tself.contentWrapper.slideDown( {\n\t\t\t\t\t\tduration: 200,\n\t\t\t\t\t\tdone: function () {\n\t\t\t\t\t\t\t$('body').addClass( 'has_rox_pop' );\n\t\t\t\t\t\t\t$(document).trigger( 'rox.popup.open' );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// $popup.show({\n\t\t\t// \tduration: 0,\n\t\t\t// \tdone:function () {\n\t\t\t// \t\t$('body').addClass( 'has_rox_pop' );\n\t\t\t// \t\t$('body').trigger( 'rox.popup.open', { id: _id, type: _type } );\n\t\t\t// \t}\n\t\t\t// });\n\t\t};\n\t\t/**\n\t\t * @function\n\t\t * Hide the Popup\n\t\t * return {void}\n\t\t */\n\t\tself.hide = function () {\n\t\t\tself.contentWrapper.slideUp({\n\t\t\t\tduration: 200,\n\t\t\t\tdone: function(){\n\t\t\t\t\tself.pop.hide({\n\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t\tdone:function () {\n\t\t\t\t\t\t\t$('body').removeClass( 'has_rox_pop' );\n\t\t\t\t\t\t\t$(document).trigger( 'rox.popup.close' );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// $popup.hide({\n\t\t\t// \tduration: 0,\n\t\t\t// \tdone:function () {\n\t\t\t// \t\t$('body').removeClass( 'has_rox_pop' );\n\t\t\t// \t\t$('body').trigger( 'rox.popup.close', { id: _id, type: _type } );\n\t\t\t// \t}\n\t\t\t// });\n\t\t};\n\t}\n\t/**\n\t * Add To Wishlist\n\t */\n\tfunction add_to_wishlist() {\n\t\tvar $popup = new RoxPop( $('.rox_wishlist_pop') ),\n\t\t\t$popLoader = new RoxLoader( $popup.contentWrapper ),\n\t\t\t__PreviousObjectID__, // cache last popup\n\t\t\t$newListBtn = $('.pop-new-list a'), // create new list form trigger\n\t\t\t$newListForm = $('.add-new-list'),\n\t\t\t$newListSave = $newListForm.parent().find( '.rox_save' ),\n\t\t\t$newListCancle = $newListForm.parent().find( '.rox_cancle' );\n\t\tvar _id, _type,\n\t\t\tnameMaxLength = parseInt( config.list_name_max_len );\n\t\t// Show Wishlist Popup\n\t\t$(document).on( 'click', '.rox-wishlist-button', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t_id = $(this).data( 'id');\n\t\t\t_type = $(this).data( 'type');\n\t\t\tif( __PreviousObjectID__ !== _id ) {\n\t\t\t\t$popup.content('').show();\n\t\t\t\t$popLoader.show( 0 );\n\t\t\t\t__PreviousObjectID__ = _id;\n\t\t\t\t// Get User's Wishlist\n\t\t\t\t$.get( __URL__, { action: '__get_user_wishlists', id: _id, type: _type, _nonce: __CSRF__ }, response => {\n\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\t$popLoader.complete( false, 100 );\n\t\t\t\t\t\t$popup.content( response.data );\n\t\t\t\t\t}\n\t\t\t\t} ).fail(ajaxError);\n\t\t\t} else {\n\t\t\t\t$popup.show();\n\t\t\t}\n\t\t});\n\t\t// Add/Remove wishlist item on check box state change\n\t\t$(document).on( 'change', '.rox_wishlist_add', function(event) {\n\t\t\t$popLoader.show( 0 );\n\t\t\tvar list_ID = $(this).val(), __data__, $item = $(this), __removing__ = false;\n\t\t\tif( $item.is(':checked') ) {\n\t\t\t\t__data__ = { action: '__add_list_item', id: _id, list_id: list_ID, type: _type, _nonce: __CSRF__ };\n\t\t\t} else {\n\t\t\t\t__data__ = { action: '__remove_list_item', id: _id, list_id: list_ID, type: _type, _nonce: __CSRF__ };\n\t\t\t\t__removing__ = true;\n\t\t\t}\n\t\t\t$.post( __URL__, __data__, response => {\n\t\t\t\t$popLoader.complete( true, null, () => { $popup.info( response.data ); } );\n\t\t\t\tif( response.success == true ) {\n\t\t\t\t\tif( __removing__ ) $item.prop( 'checked', false );\n\t\t\t\t\telse $item.prop( 'checked', true );\n\t\t\t\t} else {\n\t\t\t\t\tif( __removing__ ) $item.prop( 'checked', true );\n\t\t\t\t\telse $item.prop( 'checked', false );\n\t\t\t\t}\n\t\t\t}).fail(ajaxError);\n\t\t});\n\t\t// Create New List and add current item to it.\n\t\t$newListSave.on( 'click', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tlet list_name = $('#list-name').val().trim(),\n\t\t\t\tlist_privacy = $('#list-privacy').val(),\n\t\t\t\tid = ( _id )? _id : '',\n\t\t\t\ttype = ( _type )? _type : '',\n\t\t\t\terrors = [];\n\t\t\t// check\n\t\t\tif( list_name == '' ) errors.push('<p class=\"rox-alert rox-error\">' + config.errors.invalid_or_empty + '</p>');\n\t\t\tif( list_name.length > nameMaxLength )  errors.push('<p class=\"rox-alert rox-error\">' + config.errors.list_name_max_len + '</p>');\n\t\t\tif( ['public', 'private'].indexOf( list_privacy ) == -1 ) list_privacy = 'private';\n\t\t\tlet __data__ = {\n\t\t\t\taction: '__add_new_list_with_item',\n\t\t\t\tlist_name, list_privacy, id, type,\n\t\t\t\t_nonce : __CSRF__ };\n\t\t\tif( errors.length > 0 ) {\n\t\t\t\t$popup.info( errors.join( \"\\n\" ) );\n\t\t\t} else {\n\t\t\t\t$popLoader.show( 0 );\n\t\t\t\t$.post( __URL__, __data__, response => {\n\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\tvar __ItemResponse__ = response.data;\n\t\t\t\t\t\treset_create_form();\n\t\t\t\t\t\t$.get( __URL__, { action: '__get_user_wishlists', id: _id, type: _type, _nonce: __CSRF__ }, response => {\n\t\t\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\t\t\t$popLoader.complete( true, false, () => { $popup.info( __ItemResponse__ ); } );\n\t\t\t\t\t\t\t\t$popup.content( response.data );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ).fail(ajaxError);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$popLoader.complete( false, false, () => { $popup.info( response.data ); } );\n\t\t\t\t\t}\n\t\t\t\t}).fail(ajaxError);\n\t\t\t}\n\t\t});\n\t\t// check max length for new list\n\t\t$('#list-name').on('keyup', function( event ) {\n\t\t\tupdate_character_counter( $(this), $(this).val().length );\n\t\t} ).on( 'keypress', function( event ) {\n\t\t\tif( $(this).val().length >= nameMaxLength ) return false;\n\t\t} );\n\t\t// hide for guest visitor\n\t\tif( ! __IS_USER_LOGGED_IN__ ) $newListBtn.parent().hide( 0 );\n\t\t$newListBtn.on( 'click', function( event ) {\n\t\t\tevent.preventDefault();\n\t\t\t$(this).hide();\n\t\t\t$newListForm.show();\n\t\t} );\n\t\t$newListCancle.on( 'click', function(event){\n\t\t\tevent.preventDefault();\n\t\t\treset_create_form();\n\t\t});\n\t\t/**\n\t\t * Reset Popup Create New List Form\n\t\t * @return void\n\t\t */\n\t\tfunction reset_create_form() {\n\t\t\t$newListBtn.show();\n\t\t\t$newListForm.find( 'input' ).val('');\n\t\t\t$newListForm.find( 'select option' ).removeAttr('selected');\n\t\t\t$newListForm.hide();\n\t\t}\n\t\t/**\n\t\t * Display Default Ajax Error Message\n\t\t * @return void\n\t\t */\n\t\tfunction ajaxError() {\n\t\t\t$popLoader.hide(0);\n\t\t\t$popLoader.reset(0);\n\t\t\t$popup.info( '<p class=\"rox-alert rox-error\">'+config.rox_error+'</p>', 5000, 400 );\n\t\t}\n\t\t// Clear new clist form on wishlist close.\n\t\t$(document).on( 'rox.popup.close', function(){\n\t\t\treset_create_form();\n\t\t});\n\t}\n\n\t/**\n\t * Update Character Counter next to input/textarea\n\t * @function\n\t * @param {object} $el jquery selector element\n\t * @param {int} count\n\t */\n\tfunction update_character_counter( $el, count ) {\n\t\t$el.next('.character-counter').find('.counter-now').text( parseInt( count ) );\n\t}\n\tfunction edit_wishlist() {\n\t\tvar settingsBtn = '.button-list-settings',\n\t\t\t$popup = new RoxPop( $('.rox_wishlist_pop') ),\n\t\t\t$popLoader = new RoxLoader( $popup.contentWrapper ),\n\t\t\t_list_name = '', _list_description = '', _list_privacy = 'private', // Initial Data for backing up before editing\n\t\t\tnameMaxLength = parseInt( config.list_name_max_len ), __UPDATED__ = false;\n\t\tif( ! $popup.contentWrapper.hasClass('wishlist-editor') ) $popup.contentWrapper.addClass('wishlist-editor');\n\t\tvar $listEditForm = $('.edit-list'),\n\t\t\t$listSave = $listEditForm.closest('.rox_pop_container').find( '.rox_save' ),\n\t\t\t$listCancle = $listEditForm.closest('.rox_pop_container').find( '.rox_cancle' );\n\t\t// check max length for new list\n\t\t$('#list-name').on('keyup', function( event ) {\n\t\t\tupdate_character_counter( $(this), $(this).val().length );\n\t\t} ).on( 'keypress', function( event ) {\n\t\t\tif( $(this).val().length >= nameMaxLength ) return false;\n\t\t} );\n\t\tvar rollBackData = function() {\n\t\t\t// rollback modifications if cancle clicked\n\t\t\t$('#list-name').val( _list_name );\n\t\t\t$('#list-description').val( _list_description );\n\t\t\t$('#list-privacy').val( _list_privacy );\n\t\t\t$('#list-privacy').find('option[value=\"'+_list_privacy+'\"]').prop( 'selected', true );\n\t\t};\n\t\t$(document).on('rox.popup.close', rollBackData );\n\t\t// Open PopUp\n\t\t$(document).on('click', settingsBtn, function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t_list_name = $('#list-name').val().trim();\n\t\t\t_list_description = $('#list-description').val().trim();\n\t\t\t_list_privacy = $('#list-privacy').val();\n\t\t\t$popup.show();\n\t\t})\n\t\t.on( 'click', '.rox_cancle', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t$popup.hide();\n\t\t} )\n\t\t.on('click', '.rox_save', function(event){\n\t\t\tevent.preventDefault();\n\t\t\tlet list_name = $('#list-name').val().trim(),\n\t\t\t\tlist_description = $('#list-description').val().trim(),\n\t\t\t\tlist_privacy = $('#list-privacy').val(),\n\t\t\t\terrors = [];\n\t\t\t// check\n\t\t\tif( list_name == '' ) errors.push('<p class=\"rox-alert rox-error\">' + config.errors.invalid_or_empty + '</p>');\n\t\t\tif( list_name.length > nameMaxLength )  errors.push('<p class=\"rox-alert rox-error\">' + config.errors.list_name_max_len + '</p>');\n\t\t\tif( ['public', 'private'].indexOf( list_privacy ) == -1 ) list_privacy = 'private';\n\t\t\tlet __data__ = {\n\t\t\t\t// action: '__add_new_list_with_item',\n\t\t\t\taction: '__update_wishlist',\n\t\t\t\tlist_name, list_description, list_privacy, post_id,\n\t\t\t\t_nonce : __CSRF__ };\n\t\t\tif( errors.length > 0 ) {\n\t\t\t\t$popup.info( errors.join( \"\\n\" ) );\n\t\t\t} else {\n\t\t\t\t$popLoader.show( 0 );\n\t\t\t\t$.post( __URL__, __data__, response => {\n\t\t\t\t\tif( response.success ) {\n\t\t\t\t\t\t$popLoader.complete( true, false, () => {\n\t\t\t\t\t\t\t__UPDATED__ = true;\n\t\t\t\t\t\t\t$popup.info( response.data );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t__UPDATED__ = false;\n\t\t\t\t\t\t$popLoader.complete( false, false, () => { $popup.info( response.data ); } );\n\t\t\t\t\t}\n\t\t\t\t}).fail(ajaxError);\n\t\t\t}\n\t\t\t// $popup.hide();\n\t\t} );\n\t\t$(document).on( 'rox.popup.info.hidden', function () {\n\t\t\tif( __UPDATED__ ) {\n\t\t\t\t__UPDATED__ = false;\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t});\n\t}\n\t$(document).ready(function () {\n\t\tif( config.is_wp_wishlist != 1 ) add_to_wishlist();\n\t\tif( config.is_wishlist == 1 ) edit_wishlist();\n\t\tif( $('.button-delete-list').length > 0 ) {\n\t\t\t$('.button-delete-list').on('click', function( event ) {\n\t\t\t\tif ( ! confirm( config.confirm_delete_list ) ) return false;\n\t\t\t} );\n\t\t}\n\t\tif( $('.item-remove').length > 0 ) {\n\t\t\t$('.item-remove').on('click', function( event ) {\n\t\t\t\tif ( ! confirm( config.confirm_delete_item ) ) return false;\n\t\t\t} );\n\t\t}\n\t});\n})(jQuery, window, document, rox_wpwl_configs);"]}